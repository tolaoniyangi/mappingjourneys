<!DOCTYPE html>
<html>
  <head>
        <title>Global Trajectories</title>

        <!-- Google fonts code -->
        <link href="https://fonts.googleapis.com/css?family=Dosis|Poppins|Abel" rel="stylesheet">

        <!-- Loading d3.js library -->
        <script language="javascript" type="text/javascript" src="libraries/d3.min.js"></script>
        <script language="javascript" type="text.javascrapt" src="https://d3js.org/d3.v4.min.js"> </script>

        <!-- Link to p5 sketch file -->
        <script language="javascript" type="text/javascript" src="js/sketch.js"></script>
        
        <!-- bootstrap set up--> 
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">

        <!-- ensures website has a 1:1 ratio with the viewport (screen size) -->
        <meta name="viewport" content="width=device-width, initial-scale=1"> 

        <!-- Stylesheet + Bootstrap link -->
         <link rel="stylesheet" type="text/css" href="css/site-specific.css">
         <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">  
        <!-- favicon - img for browser -->
        <!-- <link rel="shortcut icon" type="image/png" href="img/logo.png"/> -->
  
  </head>

   <body>
    <div><svg class="chloroplethMap" width = "960" height = "600"> </svg>  </div>
   </body>

<!-- JAVASCRIPT  -->
 <!--  links  to bootstrap and d3 and stylesheet-->
  <script src="http://d3js.org/d3.v4.min.js"></script>
  <script src="http://d3js.org/d3-queue.v3.min.js"></script>  
  <script src="http://d3js.org/topojson.v1.min.js"></script>    

  <!-- Stylesheet + Bootstrap link -->
   <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">  
   <link rel="stylesheet" type="text/css" href="css/site-specific.css">

  <script type="text/javascript">

 //map basics
  //Creates tooltip and makes it invisiblae
  var div = d3.select("body").append("div")
    .attr("class", "tooltip")
    .style("opacity", 0);

  //using svg element to display the map on 
  // var width = 960;
      var height = 600;

  //Sets dimensions
  var margin = {top: 10, left: 10, bottom: 10, right: 10}
    , width = window.outerWidth
    , width = width - margin.left - margin.right
    , mapRatio = .5
    // , height = width * mapRatio;

  //for all maps
  var projection = d3.geoMercator()
      .center([-73.94, 40.70])
      .scale(1000)
      .translate([width / 2, height / 2]); 
  var path = d3.geoPath()
      .projection(projection);

  //sets/creates svg window and draws map  
  var svg = d3.select(".chloroplethMap").append("svg")
      .attr("width", width)
      .attr("height", height)
  
  d3.queue()  
      .defer(d3.json, "data/boroughs_NTA.json") 
      .defer(d3.csv, "data/elfellati.csv") 
      .await(ready);
  
  function ready(error, place) { //error, var1, var2
    if (error) throw error;
    console.log(place)
    // console.log(happy)
  // svg.append("g")
  //     .attr("class", "counties")
  //   .selectAll("path")
  //     .data(topojson.feature(place, place.objects.Place).features) // Bind TopoJSON data elements
  //   .enter().append("path")
  //     .attr("d", path)
  //     .style("fill", "white")
  //     .style("stroke", "black");
}